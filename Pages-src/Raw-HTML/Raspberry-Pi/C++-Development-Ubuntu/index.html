<!--
@sequence: 15
@title: Ubuntu to Ubuntu Cross C++ Development
@author: Pieter P
@keywords: c++,cpp,c,fortran,cmake,make,vscode,raspbery pi,cross-compilation,
           cross,compilation,toolchain,gcc,ubuntu
@description: Raspberry Pi C++ development and cross-compilation on an Ubuntu
              machine, targeting a Raspberry Pi running Ubuntu.
-->

<html>

<p>
    The steps are almost identical to the <a
        href="../C++-Development-RPiOS/">Ubuntu to Raspberry Pi OS Cross C++ Development</a>
    guide, with the main differences being that you use a different distribution
    and release when calling <code>mk-sbuild</code>, and that you'll use the 
    64-bit toolchain.
</p>

<p>
    Brief instructions for Ubuntu 21.10 (Impish Indri), 64-bit:
</p>

@codesnippet{"file": "resources/speedrun.sh"}
@codesnippet{"file": "resources/debug.sh"}

<pre class="console" style="background-color: #380C2A; color: #eee"><code>aarch64-rpi3-linux-gnu-gdb ~/RPi-dev/staging-aarch64-rpi3/bin/hello
<span style="color: #75507B"><b>GNU gdb (crosstool-NG UNKNOWN) 10.2</b></span>
Copyright (C) 2021 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Type &quot;show copying&quot; and &quot;show warranty&quot; for details.
This GDB was configured as &quot;--host=x86_64-build_pc-linux-gnu --target=aarch64-rpi3-linux-gnu&quot;.
Type &quot;show configuration&quot; for configuration details.
For bug reporting instructions, please see:
&lt;https://www.gnu.org/software/gdb/bugs/&gt;.
Find the GDB manual and other documentation resources online at:
    &lt;http://www.gnu.org/software/gdb/documentation/&gt;.

For help, type &quot;help&quot;.
Type &quot;apropos word&quot; to search for commands related to &quot;word&quot;...
Reading symbols from <span style="color: #4E9A06">~/RPi-dev/staging-aarch64-rpi3/bin/hello</span>...
(gdb) set sysroot /var/lib/schroot/chroots/rpi3-impish-arm64
(gdb) target remote | ssh RPi3 gdbserver - &apos;~/.local/bin/hello&apos; --name Pieter
Remote debugging using | ssh RPi3 gdbserver - &apos;~/.local/bin/hello&apos; --name Pieter
stdin/stdout redirected
Process /home/ubuntu/.local/bin/hello created; pid = 5815
Remote debugging using stdio
Reading symbols from <span style="color: #4E9A06">/var/lib/schroot/chroots/rpi3-impish-arm64/lib/ld-linux-aarch64.so.1</span>...
(No debugging symbols found in <span style="color: #4E9A06">/var/lib/schroot/chroots/rpi3-impish-arm64/lib/ld-linux-aarch64.so.1</span>)
<span style="color: #3465A4">0x0000fffff7fc8d40</span> in <span style="color: #C4A000">??</span> ()
    from <span style="color: #4E9A06">/var/lib/schroot/chroots/rpi3-impish-arm64/lib/ld-linux-aarch64.so.1</span>
(gdb) c
Continuing.
Hello, Pieter!
[Inferior 1 (process 5815) exited normally]
(gdb) q</code></pre>

</html>